Thanks for the detailed project overview! Based on your responsibilities, youâ€™re focusing on advertisement history retrieval and display, and optionally deletion. Youâ€™ll be working on both:

Service Layer: Interacting with backend APIs.

UI Layer (Angular): Creating components to show ad history with sorting/filtering features.

Hereâ€™s a complete plan with code snippets to help you finish your part of the project.

âœ… 1. Service Layer (Angular - ad-history.service.ts)
ts
Copy
Edit
// src/app/services/ad-history.service.ts
import { Injectable } from '@angular/core';
import { HttpClient } from '@angular/common/http';
import { Observable } from 'rxjs';

export interface AdHistory {
  id: string;
  prompt: string;
  date: string;
  adPreview: string;
  type: string;
}

@Injectable({
  providedIn: 'root',
})
export class AdHistoryService {
  private baseUrl = 'https://your-backend-url.com/api/ad-history';

  constructor(private http: HttpClient) {}

  getAdHistory(userId: string): Observable<AdHistory[]> {
    return this.http.get<AdHistory[]>(`${this.baseUrl}/user/${userId}`);
  }

  deleteAdHistory(historyId: string): Observable<any> {
    return this.http.delete(`${this.baseUrl}/${historyId}`);
  }
}
âœ… 2. Angular Components Structure
bash
Copy
Edit
ad-history/
â”‚
â”œâ”€â”€ ad-history-card/
â”‚   â””â”€â”€ ad-history-card.component.ts/html/css
â”‚
â”œâ”€â”€ ad-history-list/
â”‚   â””â”€â”€ ad-history-list.component.ts/html/css
â”‚
â””â”€â”€ ad-history.module.ts
âœ… 3. AdHistoryCardComponent
Shows individual history entries.

ad-history-card.component.ts
ts
Copy
Edit
import { Component, Input, Output, EventEmitter } from '@angular/core';
import { AdHistory } from 'src/app/services/ad-history.service';

@Component({
  selector: 'app-ad-history-card',
  templateUrl: './ad-history-card.component.html',
  styleUrls: ['./ad-history-card.component.css']
})
export class AdHistoryCardComponent {
  @Input() history!: AdHistory;
  @Output() delete = new EventEmitter<string>();

  onDelete() {
    this.delete.emit(this.history.id);
  }
}
ad-history-card.component.html
html
Copy
Edit
<div class="card">
  <div class="card-body">
    <h5>{{ history.prompt }}</h5>
    <p>{{ history.date | date:'medium' }}</p>
    <p><strong>Type:</strong> {{ history.type }}</p>
    <p><strong>Preview:</strong> {{ history.adPreview }}</p>
    <button (click)="onDelete()">Delete</button>
  </div>
</div>
âœ… 4. AdHistoryListComponent
Displays list of all history cards, handles filtering/sorting.

ad-history-list.component.ts
ts
Copy
Edit
import { Component, OnInit } from '@angular/core';
import { AdHistory, AdHistoryService } from 'src/app/services/ad-history.service';

@Component({
  selector: 'app-ad-history-list',
  templateUrl: './ad-history-list.component.html',
  styleUrls: ['./ad-history-list.component.css']
})
export class AdHistoryListComponent implements OnInit {
  histories: AdHistory[] = [];
  filteredHistories: AdHistory[] = [];
  sortKey = 'date';
  filterType = '';

  constructor(private adHistoryService: AdHistoryService) {}

  ngOnInit() {
    const userId = localStorage.getItem('userId')!;
    this.adHistoryService.getAdHistory(userId).subscribe((data) => {
      this.histories = data;
      this.filteredHistories = [...this.histories];
    });
  }

  onDelete(id: string) {
    this.adHistoryService.deleteAdHistory(id).subscribe(() => {
      this.histories = this.histories.filter(h => h.id !== id);
      this.applyFilter();
    });
  }

  applyFilter() {
    this.filteredHistories = this.histories.filter(h => !this.filterType || h.type === this.filterType);
    this.filteredHistories.sort((a, b) => {
      return new Date(b.date).getTime() - new Date(a.date).getTime();
    });
  }
}
ad-history-list.component.html
html
Copy
Edit
<div>
  <label>Filter by Type:</label>
  <select [(ngModel)]="filterType" (change)="applyFilter()">
    <option value="">All</option>
    <option value="image">Image</option>
    <option value="video">Video</option>
    <option value="text">Text</option>
  </select>
</div>

<div *ngFor="let history of filteredHistories">
  <app-ad-history-card
    [history]="history"
    (delete)="onDelete($event)">
  </app-ad-history-card>
</div>
âœ… 5. Module Declaration
Make sure both components are declared and imported properly.

ad-history.module.ts
ts
Copy
Edit
import { NgModule } from '@angular/core';
import { CommonModule } from '@angular/common';
import { FormsModule } from '@angular/forms';
import { AdHistoryCardComponent } from './ad-history-card/ad-history-card.component';
import { AdHistoryListComponent } from './ad-history-list/ad-history-list.component';

@NgModule({
  declarations: [AdHistoryCardComponent, AdHistoryListComponent],
  imports: [CommonModule, FormsModule],
  exports: [AdHistoryListComponent]
})
export class AdHistoryModule {}
âœ… 6. Integration into Home Page
In your home page HTML (where the left panel exists), place the component:

html
Copy
Edit
<!-- home.component.html -->
<app-ad-history-list></app-ad-history-list>
ðŸš€ Backend API Format (for your backend team)
1. GET /api/ad-history/user/:userId
Returns:

json
Copy
Edit
[
  {
    "id": "1",
    "prompt": "Generate ad for sunglasses",
    "date": "2025-05-07T14:30:00Z",
    "adPreview": "ðŸ”¥ Summer sunglasses - 50% OFF ðŸ”¥",
    "type": "text"
  },
  ...
]
2. DELETE /api/ad-history/:historyId
Deletes the history item with specified ID.

Would you also like mock data or unit tests for your components to get started even faster?








